{% extends "base.html" %}
{% load static %}

{% block title %}Slide Creator{% endblock %}

{% block extra_css %}
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.2/codemirror.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.2/theme/monokai.min.css">
    <link rel="stylesheet" href="{% static 'css/creator.css' %}">
    <link rel="stylesheet" href="{% static 'css/slide_styles.css' %}">

    <style>
        .status-card {
            cursor: pointer;
            border: 2px solid transparent;
            transition: all 0.2s ease-in-out;
        }
        .status-card:hover {
            transform: translateY(-3px);
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
            border-color: #0d6efd; /* Bootstrap primary blue */
        }
        .status-card.selected {
            border-color: #0d6efd;
            background-color: #e7f1ff; /* A light blue background for selection */
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
        }
    </style>
{% endblock %}

{% block content %}
<div class="container-fluid main-container">
    <div class="d-flex justify-content-between align-items-center">
        <h1 class="my-4 display-4">Slide Creator</h1>
    </div>
    
    <div id="blocks-container" class="empty"></div>

    <div id="export-load-container" class="my-4 text-center">
        <button id="save-slideshow-server-btn" class="btn btn-primary btn-lg">
            <i class="bi bi-save-fill"></i> Save Slideshow
        </button>
        <button id="load-slideshow-server-btn" class="btn btn-secondary btn-lg">
            <i class="bi bi-folder2-open"></i> Load a Slideshow
        </button>
    </div>
</div>

<button id="help-btn" class="floating-btn" title="Help" style="bottom: 30px; background-color: #0d6efd;"><i class="bi bi-question-circle-fill"></i></button>
<button id="add-block-floating-btn" class="floating-btn" title="Add a Slide" style="bottom: 105px; background-color: #198754;"><i class="bi bi-plus-lg"></i></button>
<button id="metadata-btn" class="floating-btn" title="Edit metadata" style="bottom: 180px; background-color: #6c757d;"><i class="bi bi-tags-fill"></i></button>
<button id="scroll-to-top-btn" class="floating-btn" title="Scroll to Top" style="bottom: 250px; display: none; background-color: #ffc107;"><i class="bi bi-arrow-up"></i></button>

{% include "slides/_modals.html" %}

{% endblock %}

{% block extra_js %}
    <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.2/codemirror.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.2/mode/htmlmixed/htmlmixed.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.2/addon/edit/closetag.js"></script>

    {{ initial_data|json_script:"initial-data-json" }}
    {{ api_config|json_script:"api-config-json" }}

    <script src="{% static 'js/slide_creator.js' %}"></script>
{% endblock %}